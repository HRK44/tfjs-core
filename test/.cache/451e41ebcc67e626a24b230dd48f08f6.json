{"dependencies":[{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/float16/tfjs-core/test/package.json","includedInParent":true,"mtime":1525096773813},{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/float16/tfjs-core/test/.babelrc","includedInParent":true,"mtime":1525096773813},{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/float16/tfjs-core/tsconfig.json","includedInParent":true,"mtime":1528230673176},{"name":"../../ops/erf_util","loc":{"line":1,"column":26}},{"name":"../../ops/selu_util","loc":{"line":2,"column":27}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TO_INT = exports.LOGICAL_NOT = exports.RECIPROCAL = exports.SQUARE = exports.ERF = exports.ATANH = exports.ACOSH = exports.ASINH = exports.TANH = exports.COSH = exports.SINH = exports.ATAN = exports.ACOS = exports.ASIN = exports.TAN = exports.COS = exports.SIN = exports.SOFTPLUS = exports.SIGMOID = exports.RSQRT = exports.SQRT = exports.LOG1P = exports.LOG = exports.EXPM1 = exports.EXP = exports.ROUND = exports.SIGN = exports.FLOOR = exports.CEIL = exports.NEG = exports.SELU = exports.ELU = exports.RELU = exports.ABS = exports.PASS_THROUGH = exports.UnaryOpProgram = undefined;\nexports.STEP = STEP;\n\nvar _erf_util = require('../../ops/erf_util');\n\nvar erf_util = _interopRequireWildcard(_erf_util);\n\nvar _selu_util = require('../../ops/selu_util');\n\nvar selu_util = _interopRequireWildcard(_selu_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar UnaryOpProgram = function () {\n    function UnaryOpProgram(aShape, opSnippet) {\n        this.variableNames = ['A'];\n        this.outputShape = aShape;\n        this.userCode = \"\\n      float unaryOperation(float x) {\\n        \" + opSnippet + \"\\n      }\\n\\n      void main() {\\n        float x = getAAtOutCoords();\\n        float y = unaryOperation(x);\\n\\n        setOutput(y);\\n      }\\n    \";\n    }\n    return UnaryOpProgram;\n}();\nexports.UnaryOpProgram = UnaryOpProgram;\nvar PASS_THROUGH = exports.PASS_THROUGH = \"return x;\";\nvar CHECK_NAN_SNIPPET = \"if (isNaN(x)) return x;\";\nvar ABS = exports.ABS = \"return abs(x);\";\nvar RELU = exports.RELU = CHECK_NAN_SNIPPET + \"\\n  return (x < 0.0) ? 0.0 : x;\\n\";\nvar ELU = exports.ELU = \"return (x >= 0.0) ? x : (exp(x) - 1.0);\";\nvar SELU = exports.SELU = \"\\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\\n  // see: https://arxiv.org/abs/1706.02515\\n  float scaleAlpha = \" + selu_util.SELU_SCALEALPHA + \";\\n  float scale = \" + selu_util.SELU_SCALE + \";\\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\\n\";\nfunction STEP(alpha) {\n    if (alpha === void 0) {\n        alpha = 0.0;\n    }\n    return CHECK_NAN_SNIPPET + (\"\\n    return x > 0.0 ? 1.0 : float(\" + alpha + \");\\n  \");\n}\nvar NEG = exports.NEG = \"return -x;\";\nvar CEIL = exports.CEIL = \"return ceil(x);\";\nvar FLOOR = exports.FLOOR = \"return floor(x);\";\nvar SIGN = exports.SIGN = \"\\n  if (isNaN(x)) { return 0.0; }\\n  return sign(x);\\n\";\nvar ROUND = exports.ROUND = \"\\n  // OpenGL ES does not support round function.\\n  // The algorithm is based on banker's rounding.\\n  float base = floor(x);\\n  if ((x - base) < 0.5) {\\n    return floor(x);\\n  } else if ((x - base) > 0.5) {\\n    return ceil(x);\\n  } else {\\n    if (mod(base, 2.0) == 0.0) {\\n      return base;\\n    } else {\\n      return base + 1.0;\\n    }\\n  }\\n\";\nvar EXP = exports.EXP = \"return exp(x);\";\nvar EXPM1 = exports.EXPM1 = \"return exp(x) - 1.0;\";\nvar LOG = exports.LOG = \"return log(x);\";\nvar LOG1P = exports.LOG1P = \"return log(1.0 + x);\";\nvar SQRT = exports.SQRT = \"return sqrt(x);\";\nvar RSQRT = exports.RSQRT = \"return inversesqrt(x);\";\nvar SIGMOID = exports.SIGMOID = \"return 1.0 / (1.0 + exp(-1.0 * x));\";\nvar SOFTPLUS = exports.SOFTPLUS = \"\\n  float epsilon = 1.1920928955078125e-7;\\n  float threshold = log(epsilon) + 2.0;\\n\\n  bool too_large = x > -threshold;\\n  bool too_small = x < threshold;\\n\\n  float result;\\n  float exp_x = exp(x);\\n\\n  if (too_large){\\n    result = x;\\n  }\\n  else if (too_small){\\n    result = exp_x;\\n  }\\n  else{\\n    result = log(exp_x + 1.0);\\n  }\\n  return result;\\n\";\nvar SIN = exports.SIN = \"return sin(x);\";\nvar COS = exports.COS = \"return cos(x);\";\nvar TAN = exports.TAN = \"return tan(x);\";\nvar ASIN = exports.ASIN = \"return asin(x);\";\nvar ACOS = exports.ACOS = \"return acos(x);\";\nvar ATAN = exports.ATAN = CHECK_NAN_SNIPPET + \"\\n  return atan(x);\\n\";\nvar SINH = exports.SINH = \"\\n  float e2x = exp(x);\\n  return (e2x - 1.0 / e2x) / 2.0;\\n\";\nvar COSH = exports.COSH = \"\\n  float e2x = exp(-x);\\n  return (e2x + 1.0 / e2x) / 2.0;\\n\";\nvar TANH = exports.TANH = \"\\n  float e2x = exp(-2.0 * abs(x));\\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\\n\";\nvar ASINH = exports.ASINH = \"return log(x + sqrt(x * x + 1.0));\";\nvar ACOSH = exports.ACOSH = \"return log(x + sqrt(x * x - 1.0));\";\nvar ATANH = exports.ATANH = \"return (log(1.0 + x) - log(1.0 - x)) / 2.0;\";\nvar ERF = exports.ERF = \"\\n  // Error function is calculated approximately with elementary function.\\n  // See \\\"Handbook of Mathematical Functions with Formulas,\\n  // Graphs, and Mathematical Tables\\\", Abramowitz and Stegun.\\n  float p = \" + erf_util.ERF_P + \";\\n  float a1 = \" + erf_util.ERF_A1 + \";\\n  float a2 = \" + erf_util.ERF_A2 + \";\\n  float a3 = \" + erf_util.ERF_A3 + \";\\n  float a4 = \" + erf_util.ERF_A4 + \";\\n  float a5 = \" + erf_util.ERF_A5 + \";\\n\\n  float t = 1.0 / (1.0 + p * x);\\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\\n\";\nvar SQUARE = exports.SQUARE = \"return x * x;\";\nvar RECIPROCAL = exports.RECIPROCAL = \"return 1.0 / x;\";\nvar LOGICAL_NOT = exports.LOGICAL_NOT = \"return float(!(x >= 1.0));\";\nvar TO_INT = exports.TO_INT = \"return float(int(x));\";","map":{"mappings":[{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":7,"column":8}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":7,"column":15}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":9,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":11,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":13,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":15,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":19,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":19,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":19,"column":21}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":19,"column":33}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":20,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":20,"column":13}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":20,"column":27}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":14},"generated":{"line":20,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":20,"column":34}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":32},"generated":{"line":20,"column":36}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":20,"column":45}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":28,"column":49},"generated":{"line":20,"column":47}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":21,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":21,"column":13}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":21,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":21,"column":29}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":24,"column":19},"generated":{"line":21,"column":30}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":21,"column":33}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":21,"column":34}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":22,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":22,"column":13}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":22,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":22,"column":27}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":22,"column":33}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":23,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":23,"column":13}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":23,"column":21}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":23,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":23,"column":78}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":23,"column":87}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":23,"column":90}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":23,"column":240}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":42,"column":3},"generated":{"line":24,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":25,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":25,"column":11}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":25,"column":25}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":26,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":26,"column":1}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":26,"column":3}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":28,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":28,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":45,"column":28},"generated":{"line":28,"column":42}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":28,"column":53}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":47,"column":0},"generated":{"line":29,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":29,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":47,"column":26},"generated":{"line":29,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":47,"column":0},"generated":{"line":29,"column":49}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":49,"column":7},"generated":{"line":30,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":30,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":30,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":49,"column":7},"generated":{"line":30,"column":40}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":31,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":51,"column":13},"generated":{"line":31,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":51,"column":20},"generated":{"line":31,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":51,"column":40},"generated":{"line":31,"column":46}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":31,"column":81}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":55,"column":7},"generated":{"line":32,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":32,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":55,"column":19},"generated":{"line":32,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":55,"column":7},"generated":{"line":32,"column":65}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":57,"column":7},"generated":{"line":33,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":33,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":33,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":60,"column":23},"generated":{"line":33,"column":169}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":60,"column":33},"generated":{"line":33,"column":179}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":33,"column":194}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":60,"column":48},"generated":{"line":33,"column":197}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":33,"column":218}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":61,"column":18},"generated":{"line":33,"column":221}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":61,"column":28},"generated":{"line":33,"column":231}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":33,"column":241}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":61,"column":38},"generated":{"line":33,"column":244}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":57,"column":7},"generated":{"line":33,"column":313}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":34,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":34,"column":9}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":34,"column":13}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":34,"column":14}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":34,"column":19}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":32},"generated":{"line":34,"column":21}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":35,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":35,"column":8}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":35,"column":18}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":35,"column":23}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":35,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":35,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":36,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":36,"column":16}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":36,"column":19}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":65,"column":32},"generated":{"line":37,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":38,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":38,"column":11}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":66,"column":29},"generated":{"line":38,"column":32}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":67,"column":35},"generated":{"line":38,"column":72}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":66,"column":29},"generated":{"line":38,"column":77}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":67,"column":40},"generated":{"line":38,"column":80}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":38,"column":88}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":38,"column":89}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":69,"column":1},"generated":{"line":39,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":71,"column":7},"generated":{"line":40,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":40,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":40,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":71,"column":7},"generated":{"line":40,"column":36}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":73,"column":7},"generated":{"line":41,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":41,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":73,"column":20},"generated":{"line":41,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":73,"column":7},"generated":{"line":41,"column":43}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":75,"column":7},"generated":{"line":42,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":42,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":75,"column":21},"generated":{"line":42,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":75,"column":7},"generated":{"line":42,"column":46}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":77,"column":7},"generated":{"line":43,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":77,"column":13},"generated":{"line":43,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":77,"column":20},"generated":{"line":43,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":77,"column":7},"generated":{"line":43,"column":82}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":82,"column":7},"generated":{"line":44,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":82,"column":13},"generated":{"line":44,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":82,"column":21},"generated":{"line":44,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":82,"column":7},"generated":{"line":44,"column":380}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":99,"column":7},"generated":{"line":45,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":99,"column":13},"generated":{"line":45,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":99,"column":19},"generated":{"line":45,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":99,"column":7},"generated":{"line":45,"column":40}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":101,"column":7},"generated":{"line":46,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":101,"column":13},"generated":{"line":46,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":46,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":101,"column":7},"generated":{"line":46,"column":50}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":103,"column":7},"generated":{"line":47,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":103,"column":13},"generated":{"line":47,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":103,"column":19},"generated":{"line":47,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":103,"column":7},"generated":{"line":47,"column":40}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":105,"column":7},"generated":{"line":48,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":48,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":105,"column":21},"generated":{"line":48,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":105,"column":7},"generated":{"line":48,"column":50}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":107,"column":7},"generated":{"line":49,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":49,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":107,"column":20},"generated":{"line":49,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":107,"column":7},"generated":{"line":49,"column":43}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":109,"column":7},"generated":{"line":50,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":109,"column":13},"generated":{"line":50,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":109,"column":21},"generated":{"line":50,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":109,"column":7},"generated":{"line":50,"column":52}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":111,"column":7},"generated":{"line":51,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":111,"column":13},"generated":{"line":51,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":111,"column":23},"generated":{"line":51,"column":32}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":111,"column":7},"generated":{"line":51,"column":69}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":52,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":126,"column":13},"generated":{"line":52,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":126,"column":24},"generated":{"line":52,"column":34}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":52,"column":395}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":148,"column":7},"generated":{"line":53,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":148,"column":13},"generated":{"line":53,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":148,"column":19},"generated":{"line":53,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":148,"column":7},"generated":{"line":53,"column":40}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":150,"column":7},"generated":{"line":54,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":150,"column":13},"generated":{"line":54,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":150,"column":19},"generated":{"line":54,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":150,"column":7},"generated":{"line":54,"column":40}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":152,"column":7},"generated":{"line":55,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":152,"column":13},"generated":{"line":55,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":152,"column":19},"generated":{"line":55,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":152,"column":7},"generated":{"line":55,"column":40}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":154,"column":7},"generated":{"line":56,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":154,"column":13},"generated":{"line":56,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":154,"column":20},"generated":{"line":56,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":154,"column":7},"generated":{"line":56,"column":43}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":156,"column":7},"generated":{"line":57,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":156,"column":13},"generated":{"line":57,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":156,"column":20},"generated":{"line":57,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":156,"column":7},"generated":{"line":57,"column":43}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":158,"column":7},"generated":{"line":58,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":158,"column":13},"generated":{"line":58,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":158,"column":20},"generated":{"line":58,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":158,"column":40},"generated":{"line":58,"column":46}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":158,"column":7},"generated":{"line":58,"column":69}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":59,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":162,"column":13},"generated":{"line":59,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":162,"column":20},"generated":{"line":59,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":162,"column":7},"generated":{"line":59,"column":88}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":167,"column":7},"generated":{"line":60,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":167,"column":13},"generated":{"line":60,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":167,"column":20},"generated":{"line":60,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":167,"column":7},"generated":{"line":60,"column":89}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":172,"column":7},"generated":{"line":61,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":172,"column":13},"generated":{"line":61,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":172,"column":20},"generated":{"line":61,"column":26}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":172,"column":7},"generated":{"line":61,"column":112}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":177,"column":7},"generated":{"line":62,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":177,"column":13},"generated":{"line":62,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":177,"column":21},"generated":{"line":62,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":177,"column":7},"generated":{"line":62,"column":64}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":179,"column":7},"generated":{"line":63,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":179,"column":13},"generated":{"line":63,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":179,"column":21},"generated":{"line":63,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":179,"column":7},"generated":{"line":63,"column":64}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":181,"column":7},"generated":{"line":64,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":181,"column":13},"generated":{"line":64,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":181,"column":21},"generated":{"line":64,"column":28}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":181,"column":7},"generated":{"line":64,"column":73}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":7},"generated":{"line":65,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":13},"generated":{"line":65,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":24}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":187,"column":14},"generated":{"line":65,"column":244}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":187,"column":23},"generated":{"line":65,"column":253}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":258}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":187,"column":28},"generated":{"line":65,"column":261}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":279}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":188,"column":15},"generated":{"line":65,"column":282}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":188,"column":24},"generated":{"line":65,"column":291}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":297}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":188,"column":30},"generated":{"line":65,"column":300}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":318}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":189,"column":15},"generated":{"line":65,"column":321}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":189,"column":24},"generated":{"line":65,"column":330}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":336}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":189,"column":30},"generated":{"line":65,"column":339}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":357}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":190,"column":15},"generated":{"line":65,"column":360}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":190,"column":24},"generated":{"line":65,"column":369}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":375}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":190,"column":30},"generated":{"line":65,"column":378}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":396}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":191,"column":15},"generated":{"line":65,"column":399}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":191,"column":24},"generated":{"line":65,"column":408}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":414}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":191,"column":30},"generated":{"line":65,"column":417}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":435}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":192,"column":15},"generated":{"line":65,"column":438}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":192,"column":24},"generated":{"line":65,"column":447}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":65,"column":453}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":192,"column":30},"generated":{"line":65,"column":456}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":183,"column":7},"generated":{"line":65,"column":567}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":198,"column":7},"generated":{"line":66,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":198,"column":13},"generated":{"line":66,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":198,"column":22},"generated":{"line":66,"column":30}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":198,"column":7},"generated":{"line":66,"column":45}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":200,"column":7},"generated":{"line":67,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":200,"column":13},"generated":{"line":67,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":200,"column":26},"generated":{"line":67,"column":38}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":200,"column":7},"generated":{"line":67,"column":55}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":202,"column":7},"generated":{"line":68,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":202,"column":13},"generated":{"line":68,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":202,"column":27},"generated":{"line":68,"column":40}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":202,"column":7},"generated":{"line":68,"column":68}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":204,"column":7},"generated":{"line":69,"column":0}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":204,"column":13},"generated":{"line":69,"column":4}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":204,"column":22},"generated":{"line":69,"column":30}},{"source":"../src/kernels/webgl/unaryop_gpu.ts","name":null,"original":{"line":204,"column":7},"generated":{"line":69,"column":53}}],"sources":{"../src/kernels/webgl/unaryop_gpu.ts":"/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as erf_util from '../../ops/erf_util';\nimport * as selu_util from '../../ops/selu_util';\n\nimport {GPGPUProgram} from './gpgpu_math';\n\nexport class UnaryOpProgram implements GPGPUProgram {\n  variableNames = ['A'];\n  userCode: string;\n  outputShape: number[];\n\n  constructor(aShape: number[], opSnippet: string) {\n    this.outputShape = aShape;\n    this.userCode = `\n      float unaryOperation(float x) {\n        ${opSnippet}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `;\n  }\n}\n\nexport const PASS_THROUGH = `return x;`;\n\nconst CHECK_NAN_SNIPPET = `if (isNaN(x)) return x;`;\n\nexport const ABS = `return abs(x);`;\n\nexport const RELU = CHECK_NAN_SNIPPET + `\n  return (x < 0.0) ? 0.0 : x;\n`;\n\nexport const ELU = `return (x >= 0.0) ? x : (exp(x) - 1.0);`;\n\nexport const SELU = `\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${selu_util.SELU_SCALEALPHA};\n  float scale = ${selu_util.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`;\n\nexport function STEP(alpha = 0.0) {\n  return CHECK_NAN_SNIPPET + `\n    return x > 0.0 ? 1.0 : float(${alpha});\n  `;\n}\n\nexport const NEG = `return -x;`;\n\nexport const CEIL = `return ceil(x);`;\n\nexport const FLOOR = `return floor(x);`;\n\nexport const SIGN = `\n  if (isNaN(x)) { return 0.0; }\n  return sign(x);\n`;\n\nexport const ROUND = `\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n`;\n\nexport const EXP = `return exp(x);`;\n\nexport const EXPM1 = `return exp(x) - 1.0;`;\n\nexport const LOG = `return log(x);`;\n\nexport const LOG1P = `return log(1.0 + x);`;\n\nexport const SQRT = `return sqrt(x);`;\n\nexport const RSQRT = `return inversesqrt(x);`;\n\nexport const SIGMOID = `return 1.0 / (1.0 + exp(-1.0 * x));`;\n\n/**\n * mirrors the implementation of tf.nn.softplus: https://goo.gl/vkcvwX\n *\n * epsilon is the difference between 1.0 and the next representable\n * float. For a single precision 32 bit float this should be 2^-23, see:\n * https://math.byu.edu/~schow/work/IEEEFloatingPoint.htm\n *\n * too_large = (x > -threshold) is value above which exp(x) may overflow\n * but softplus(x) == x is within machine epsilon\n *\n * too_small = (x < threshold) is value below which exp(x) may underflow,\n * but softplus(x) == exp(x) is within machine epsilon.\n */\nexport const SOFTPLUS = `\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n`;\n\nexport const SIN = `return sin(x);`;\n\nexport const COS = `return cos(x);`;\n\nexport const TAN = `return tan(x);`;\n\nexport const ASIN = `return asin(x);`;\n\nexport const ACOS = `return acos(x);`;\n\nexport const ATAN = CHECK_NAN_SNIPPET + `\n  return atan(x);\n`;\n\nexport const SINH = `\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n`;\n\nexport const COSH = `\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n`;\n\nexport const TANH = `\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n`;\n\nexport const ASINH = `return log(x + sqrt(x * x + 1.0));`;\n\nexport const ACOSH = `return log(x + sqrt(x * x - 1.0));`;\n\nexport const ATANH = `return (log(1.0 + x) - log(1.0 - x)) / 2.0;`;\n\nexport const ERF = `\n  // Error function is calculated approximately with elementary function.\n  // See \"Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables\", Abramowitz and Stegun.\n  float p = ${erf_util.ERF_P};\n  float a1 = ${erf_util.ERF_A1};\n  float a2 = ${erf_util.ERF_A2};\n  float a3 = ${erf_util.ERF_A3};\n  float a4 = ${erf_util.ERF_A4};\n  float a5 = ${erf_util.ERF_A5};\n\n  float t = 1.0 / (1.0 + p * x);\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\n`;\n\nexport const SQUARE = `return x * x;`;\n\nexport const RECIPROCAL = `return 1.0 / x;`;\n\nexport const LOGICAL_NOT = `return float(!(x >= 1.0));`;\n\nexport const TO_INT = `return float(int(x));`;\n"},"lineCount":null}},"hash":"d2fd85d118fe4143e0b1ca3b3994a536","cacheData":{"env":{}}}